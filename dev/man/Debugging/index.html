<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>LaMEM Debugging · LaMEM</title><meta name="title" content="LaMEM Debugging · LaMEM"/><meta property="og:title" content="LaMEM Debugging · LaMEM"/><meta property="twitter:title" content="LaMEM Debugging · LaMEM"/><meta name="description" content="Documentation for LaMEM."/><meta property="og:description" content="Documentation for LaMEM."/><meta property="twitter:description" content="Documentation for LaMEM."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../Home/">LaMEM</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../Home/">Home</a></li><li><a class="tocitem" href="../Quickstart/">Quick start</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../Installation/">Installation</a></li><li><a class="tocitem" href="../GettingStarted/">Getting Started</a></li><li><a class="tocitem" href="../InitialModelSetup/">Initial Model setup</a></li></ul></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../LaMEM_Development/">LaMEM Development</a></li><li class="is-active"><a class="tocitem" href>LaMEM Debugging</a><ul class="internal"><li><a class="tocitem" href="#7.-Debugging-LaMEM"><span>7. Debugging LaMEM</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../CODE_OF_CONDUCT/">Code of conduct</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Development</a></li><li class="is-active"><a href>LaMEM Debugging</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>LaMEM Debugging</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/UniMainzGeo/LaMEM" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/UniMainzGeo/LaMEM/blob/master/docs/src/man/Debugging.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p>[TOC]</p><h2 id="7.-Debugging-LaMEM"><a class="docs-heading-anchor" href="#7.-Debugging-LaMEM">7. Debugging LaMEM</a><a id="7.-Debugging-LaMEM-1"></a><a class="docs-heading-anchor-permalink" href="#7.-Debugging-LaMEM" title="Permalink"></a></h2><p>If you are only a user of LaMEM, any text-editor is sufficient to change the *.dat LaMEM input files. Yet, if you are planning to do some more serious code development, it is quite helpful to install a more professional debugging environment.   There is quite some discussion within the development team, what the best environment is to use. Boris and Tobias really like Microsoft Visual Studio Code, whereas Anton swears with Eclipse. The advantage of MVSC is that it is easy to setup and get running, but does not allow parallel debugging. Eclipse, on the other hand, does allow for parallel debugging but can be more tricky to get up and running with PETSc.</p><h3 id="7.1.-Microsoft-Visual-Studio-Code"><a class="docs-heading-anchor" href="#7.1.-Microsoft-Visual-Studio-Code">7.1. Microsoft Visual Studio Code</a><a id="7.1.-Microsoft-Visual-Studio-Code-1"></a><a class="docs-heading-anchor-permalink" href="#7.1.-Microsoft-Visual-Studio-Code" title="Permalink"></a></h3><p><a href="https://code.visualstudio.com">Microsoft Visual Studio Code</a> is a recent and open-source development by Microsoft which has quickly become the number one development environment among professional programmers. It runs on Linux, Mac and windows and provides a very simple way to get debugging to work with PETSc. It also allows you to do development on a remote system almost as if it is on your local machine, which is pretty cool.</p><p>Here I will assume that PETSc, MPICH and LaMEM are installed in</p><pre><code class="nohighlight hljs">$ /opt/mpich3/include
$ /opt/petsc/petsc-3.18.6-deb/include/
$ /local/home/boris/LaMEM/</code></pre><p>which you obviously have to update for your system. </p><p>If you want to do remote debugging on a linux machine, you should first install the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh">Remote SSH</a> plugin and login to the remote server (this obviously requires you to have ssh login data to that machine). On the remote machine go to the <code>/LaMEM/src</code> directory.</p><p>The first thing to do is to add a file called <code>c_cpp_properties.json</code> inside the (hidden) directory  <span>$/local/home/boris/LaMEM/.vscode/$</span> with the following content:</p><pre><code class="nohighlight hljs">{
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;MacBook arm64&quot;,
            &quot;includePath&quot;: [
                &quot;${workspaceFolder}/**&quot;,
                &quot;/opt/homebrew/include&quot;,
                &quot;/opt/petsc/petsc-3.18.6-deb/include/&quot;
            ]
        }
    ],
    &quot;version&quot;: 4
}</code></pre><p>This will tell the code where PETSc, and will give you info about all the PETSc routines within LaMEM if you hover over a PETSc command such as <span>$CHKERRQ$</span> with your cursor.</p><p>If you want to debugging as well, you need to make sure that you have a working debugger installed (for example the GNU debugger gdb, or on the newer arm64 apple systems the lldb debugger). On an arm64 apple system you would need to install the <code>C/C++</code> extension as well as the <code>CodeLLDB</code> extension. </p><p>Once that is the case, you need to create a file called <span>$launch.json$</span> in the same hidden directory <span>$/local/home/boris/LaMEM/.vscode/$</span>:</p><pre><code class="nohighlight hljs">{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;(lldb) Launch&quot;,
            &quot;type&quot;: &quot;lldb&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;program&quot;: &quot;/Users/kausb/WORK/LaMEM/LaMEM/bin/deb/LaMEM&quot;,
            &quot;args&quot;: [&quot;-ParamFile&quot;,&quot;FallingBlock_IterativeSolver.dat&quot;,&quot;-nstep_max&quot;,&quot;2&quot;],
            &quot;stopOnEntry&quot;: false,
            &quot;cwd&quot;: &quot;/Users/kausb/WORK/LaMEM/LaMEM/input_models/BuildInSetups/&quot;,
            &quot;env&quot;: {&quot;PETSC_DEB&quot;: &quot;/opt/petsc/petsc-3.18.6-deb&quot;,
                    &quot;PATH&quot;: &quot;/opt/homebrew/bin:${env:PATH}&quot;},
            &quot;preLaunchTask&quot;: &quot;C/C++: build LaMEM deb file&quot;,
        },   
    ]
}</code></pre><p>For this to work, we also need to create a task that runs <span>$make mode=deb all$</span> in <span>$/LaMEM/src$</span> before we start the debugger, to rebuild the code.  For this, you need to create a file <code>tasks.json</code> in <code>.vscode</code>:</p><pre><code class="nohighlight hljs">{
    &quot;tasks&quot;: [
        {
            &quot;type&quot;: &quot;cppbuild&quot;,
            &quot;label&quot;: &quot;C/C++: build LaMEM deb file&quot;,
            &quot;command&quot;: &quot;make&quot;,
            &quot;args&quot;: [
                &quot;mode=deb&quot;,&quot;all&quot;
            ],
            &quot;options&quot;: {
                &quot;cwd&quot;: &quot;/Users/kausb/WORK/LaMEM/LaMEM/src&quot;,
                &quot;env&quot;: {&quot;PETSC_DEB&quot;:  &quot;/opt/petsc/petsc-3.18.6-deb/&quot;,
                        &quot;PATH&quot;: &quot;/opt/homebrew/bin:${env:PATH}&quot;}
            },
            &quot;problemMatcher&quot;: [
                &quot;$gcc&quot;
            ],
            &quot;group&quot;: {
                &quot;kind&quot;: &quot;build&quot;,
                &quot;isDefault&quot;: true
            },
            &quot;detail&quot;: &quot;Task generated by Debugger.&quot;
        },
    ],
    &quot;version&quot;: &quot;2.0.0&quot;
}</code></pre><p>After this, you should be able to run LaMEM with the debugger, and even step inside PETSc routines.</p><h3 id="7.2.-Eclipse"><a class="docs-heading-anchor" href="#7.2.-Eclipse">7.2. Eclipse</a><a id="7.2.-Eclipse-1"></a><a class="docs-heading-anchor-permalink" href="#7.2.-Eclipse" title="Permalink"></a></h3><p>The Eclipse developing environment does allow you to parallel debug. We used to use this a lot, but please be aware that it is a bit tricky to set up. If you want more info about it, please have a look at <code>LaMEM/doc</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../LaMEM_Development/">« LaMEM Development</a><a class="docs-footer-nextpage" href="../CODE_OF_CONDUCT/">Code of conduct »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Friday 31 October 2025 12:44">Friday 31 October 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
